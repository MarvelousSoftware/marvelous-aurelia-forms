<template>
  <div class="form-group m-form-group ${errors.length ? 'has-error' : ''} ${focused ? 'has-focus' : ''}" 
  if.bind="visibility !== 'hidden'">
  
    <label for.bind="name">${label}</label>
    <select class="form-control" id.bind="name" value.bind="internalValue" tabindex.bind="tabIndex"
    change.delegate="onChanged()" focus.trigger="onFocused()" blur.trigger="onBlured()" 
    readonly.bind="visibility === 'readOnly'" disabled.bind="visibility === 'disabled'">
      <option model.bind="__undefined__">${defaultText}</option>
      <option repeat.for="item of items" model.bind="invokeGetValue(item)">${invokeGetText(item)}</option>
    </select>
    
    <div class="m-group-errors" if.bind="errors.length">
      <ul>
        <li repeat.for="error of errors">${error}</li>
      </ul>
    </div>
    
  </div>
</template>